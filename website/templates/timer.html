{% macro timer(timer_duration, is_manager=False) %}
		<div class="timer">
			<div id="timerDisplay">00:00</div>
		</div>
		<script>
			let interval;
			let secs_remaining = {{timer_duration}};

			startTimer()

			function startTimer() {
				const timerDisplay = document.getElementById('timerDisplay');

				if (interval) {
					clearInterval(interval);
				}

				updateDisplay(timerDisplay);

				interval = setInterval(() => {
					secs_remaining--;
					if (secs_remaining <= 0) {
						clearInterval(interval);
						timerAction();
						return;
					}
					updateDisplay(timerDisplay);
				}, 1000);
			}

			function updateDisplay(timerDisplay) {
				const minutes = Math.floor(secs_remaining / 60);
				const seconds = secs_remaining % 60;

				const formattedMinutes = minutes < 10 ? '0' + minutes : minutes;
				const formattedSeconds = seconds < 10 ? '0' + seconds : seconds;

				timerDisplay.textContent = `${formattedMinutes}:${formattedSeconds}`;
			}

		{% if is_manager %}
			// when manager timer hits zero, notify all attached
		{% else %}
			function timerAction(){
						timerDisplay.textContent = 'Time is up!';
			}
		{% endif %}
		</script>
{% endmacro %}
