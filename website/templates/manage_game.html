<button onclick="refreshRoom('managing {{game_id}}')">Next Question</button>
<h3><span id="answers_submitted">{{answers_submitted}}</span>/{{num_players}}</h3>

<script src="/static/javascript/cookieFunctions.js"></script>
<script src="/static/javascript/userCookie.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.3/socket.io.js"></script>
<script>
    var socket = io.connect('/');
    var answers_submitted = document.getElementById('answers_submitted')
    let n_ans_submitted = Number(answers_submitted.innerText)
    
    socket.on('connect', function() {
        console.log('Connected to server');
    });
    
    socket.on('join_room_response', function(msg) {
        console.log("Recieved join_room_response:",msg);
    });

    socket.emit('join', {'username': username , 'room':'managing {{game_id}}'});

    function refreshRoom(room){
	socket.emit('refresh_order',{'room':room})	
	console.log('Sent refresh_order')
	n_ans_submitted = 0    
	answers_submitted.innerText = 0
    }

    socket.on('update_manager_response', function(msg){
	    answers_submitted.innerText = String(n_ans_submitted + 1)
	    console.log('Recieved update from',msg['username'])
    });
</script>
